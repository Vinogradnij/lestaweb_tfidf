# Веб-приложение для анализа tf и idf
## Задача
Реализовать веб-приложение, которое позволяет загружать файл через форму, 
а в ответ отображается таблица с тремя столбцами: Слово, tf, idf.\
Упорядочивание по уменьшению значения idf.
## Реализация
### Используемые инструменты
* В качестве веб-фреймворка выбран FastAPI.
* Для лемматизации слов используется pymorphy3.
* Для проверки на стоп-слово используется nltk
### Алгоритм работы
1. Пользователь выбирает один или более файлов через форму загрузки, после чего файлы отправляются на сервер.
2. Экземпляр класса Analyzer начинает обход загруженных файлов построчно, где каждая строка очищается от лишних символов и разделяется на отдельные слова.
3. Каждое из слов приводится к нормальной форме (лемматизация) и проверяется на стоп-слово. 
4. После этого слово записывается в словарь в качестве экземпляра класса Word, либо если оно уже там присутствует, обновляются данные о нём.
5. При завершении обхода всех слов в файлах начинается обход составленного ранее словаря слов с целью подсчёта tf, idf.
6. Каждое "слово" (экземпляр класса Word) знает о том, сколько раз и в каких файлах оно встречается, поэтому расчёт происходит в экземпляре класса.
7. Результатом расчёта для одного слова является словарь, содержащий само слово, значения tf и idf. Результатом расчёта всех слов является список таких словарей.
8. После получения списка словарей он сортируется по уменьшению значения idf. Делается срез для первых 50 слов.
9. Подготовленный список значений передаётся веб-фреймворку, на основе которого создаётся веб-страница с отображением результата анализа.
### Подготовка к запуску
1. Клонировать репозиторий командой *git clone https://github.com/Vinogradnij/lestaweb_tfidf.git*
2. Создать виртуальное окружение (venv) для проекта и запустить его:
   * Необходимо перейти в корень проекта
   * Создать venv командой *python -m venv .venv*
   * Активировать venv 
     * Для Windows запустить скрипт: .venv\Scripts\activate.bat
     * Для Linux выполнить команду: source .venv/bin/activate
3. Установить зависимости для виртуальной среды проекта командой *pip install -r requirements.txt*
4. Запустить интерпретатор python и прописать:
   * import nltk
   * nltk.download('stopwords')
   * quit()
### Запуск
* Перейти в директорию src
* Выполнить команду: python main.py